

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>API Documentation &mdash; Pubmed Parser 0.2.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Resources" href="resources.html" />
    <link rel="prev" title="Installation" href="install.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Pubmed Parser
          

          
          </a>

          
            
            
              <div class="version">
                0.2.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">API Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#parse-medline-xml">Parse MEDLINE XML</a></li>
<li class="toctree-l2"><a class="reference internal" href="#parse-pubmed-oa-xml">Parse PubMed OA XML</a></li>
<li class="toctree-l2"><a class="reference internal" href="#parse-from-website">Parse from Website</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="resources.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="spark.html">Setting up Pubmed Parser with PySpark</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Pubmed Parser</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>API Documentation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/api.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="api-documentation">
<h1>API Documentation<a class="headerlink" href="#api-documentation" title="Permalink to this headline">¶</a></h1>
<p>The core functionality of Pubmed Parse can be divided into 3 main parts based on the source of the data we use an as input.
Input source can be either from MEDLINE XML, PubMed Open Access subset (PubMed OA), or Website (using eutils).
Below, we list the core APIs implemented in Pubmed Parser</p>
<div class="section" id="parse-medline-xml">
<h2>Parse MEDLINE XML<a class="headerlink" href="#parse-medline-xml" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="pubmed_parser.parse_medline_xml">
<code class="sig-prename descclassname">pubmed_parser.</code><code class="sig-name descname">parse_medline_xml</code><span class="sig-paren">(</span><em class="sig-param">path</em>, <em class="sig-param">year_info_only=True</em>, <em class="sig-param">nlm_category=False</em>, <em class="sig-param">author_list=False</em>, <em class="sig-param">reference_list=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pubmed_parser/medline_parser.html#parse_medline_xml"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pubmed_parser.parse_medline_xml" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse XML file from Medline XML format available at
<a class="reference external" href="ftp://ftp.nlm.nih.gov/nlmdata/.medleasebaseline/gz/">ftp://ftp.nlm.nih.gov/nlmdata/.medleasebaseline/gz/</a></p>
<dl class="simple">
<dt>path: str</dt><dd><p>The path</p>
</dd>
<dt>year_info_only: bool</dt><dd><p>if True, this tool will only attempt to extract year information from PubDate.
if False, an attempt will be made to harvest all available PubDate information.
If only year and month information is available, this will yield a date of
the form ‘YYYY-MM’. If year, month and day information is available,
a date of the form ‘YYYY-MM-DD’ will be returned.
NOTE: the resolution of PubDate information in the Medline(R) database varies
between articles.
default: True</p>
</dd>
<dt>nlm_category: bool</dt><dd><p>if True, this will parse structured abstract where each section if original Label
if False, this will parse structured abstract where each section will be assigned to
NLM category of each sections
default: False</p>
</dd>
<dt>author_list: bool </dt><dd><p>if True, return parsed author output as a list of authors
if False, return parsed author output as a string of authors concatenated with <code class="docutils literal notranslate"><span class="pre">;</span></code>
default: False</p>
</dd>
<dt>reference_list: bool</dt><dd><p>if True, parse reference list as an output
if False, return string of PMIDs concatenated with ;
default: False</p>
</dd>
</dl>
<dl class="simple">
<dt>article_list: list</dt><dd><p>A list of dictionary containing information about articles in NLM format (see
<cite>parse_article_info</cite>). Articles that have been deleted will be
added with no information other than the field <cite>delete</cite> being <cite>True</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pubmed_parser.parse_medline_grant_id">
<code class="sig-prename descclassname">pubmed_parser.</code><code class="sig-name descname">parse_medline_grant_id</code><span class="sig-paren">(</span><em class="sig-param">path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pubmed_parser/medline_parser.html#parse_medline_grant_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pubmed_parser.parse_medline_grant_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse grant id from Medline XML file</p>
<dl class="simple">
<dt>path: str</dt><dd><p>The path to the XML with the information</p>
</dd>
</dl>
<dl class="simple">
<dt>grant_id_list: list</dt><dd><p>A list of dictionaries contains the grants in a given path. Each dictionary
has the keys of ‘pmid’, ‘grant_id’, ‘grant_acronym’, ‘country’, and ‘agency’</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="parse-pubmed-oa-xml">
<h2>Parse PubMed OA XML<a class="headerlink" href="#parse-pubmed-oa-xml" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="pubmed_parser.parse_pubmed_xml">
<code class="sig-prename descclassname">pubmed_parser.</code><code class="sig-name descname">parse_pubmed_xml</code><span class="sig-paren">(</span><em class="sig-param">path</em>, <em class="sig-param">include_path=False</em>, <em class="sig-param">nxml=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pubmed_parser/pubmed_oa_parser.html#parse_pubmed_xml"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pubmed_parser.parse_pubmed_xml" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an input XML path to PubMed XML file, extract information and metadata 
from a given XML file and return parsed XML file in dictionary format.
You can check <code class="docutils literal notranslate"><span class="pre">ftp://ftp.ncbi.nlm.nih.gov/pub/pmc/</span></code> to list of available files to download</p>
<dl class="simple">
<dt>path: str</dt><dd><p>A path to a given PumMed XML file</p>
</dd>
<dt>include_path: bool</dt><dd><p>if True, include a key ‘path_to_file’ in an output dictionary
default: False</p>
</dd>
<dt>nxml: bool</dt><dd><p>if True, this will strip a namespace of an XML after reading a file
see <a class="reference external" href="https://stackoverflow.com/questions/18159221/remove-namespace-and-prefix-from-xml-in-python-using-lxml">https://stackoverflow.com/questions/18159221/remove-namespace-and-prefix-from-xml-in-python-using-lxml</a> to 
default: False</p>
</dd>
</dl>
<dl class="simple">
<dt>dict_out: dict</dt><dd><p>A dictionary contains a following keys from a parsed XML path
‘full_title’, ‘abstract’, ‘journal’, ‘pmid’, ‘pmc’, ‘doi’,
‘publisher_id’, ‘author_list’, ‘affiliation_list’, ‘publication_year’,
‘publication_date’, ‘subjects’</p>
</dd>
</dl>
<p>}</p>
</dd></dl>

<dl class="function">
<dt id="pubmed_parser.parse_pubmed_references">
<code class="sig-prename descclassname">pubmed_parser.</code><code class="sig-name descname">parse_pubmed_references</code><span class="sig-paren">(</span><em class="sig-param">path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pubmed_parser/pubmed_oa_parser.html#parse_pubmed_references"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pubmed_parser.parse_pubmed_references" title="Permalink to this definition">¶</a></dt>
<dd><p>Given path to xml file, parse references articles
to list of dictionary</p>
<dl class="simple">
<dt>path: str</dt><dd><p>A string to an XML path.</p>
</dd>
</dl>
<dl class="simple">
<dt>dict_refs: list</dt><dd><p>A list contains dictionary for references made in a given file.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pubmed_parser.parse_pubmed_paragraph">
<code class="sig-prename descclassname">pubmed_parser.</code><code class="sig-name descname">parse_pubmed_paragraph</code><span class="sig-paren">(</span><em class="sig-param">path</em>, <em class="sig-param">all_paragraph=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pubmed_parser/pubmed_oa_parser.html#parse_pubmed_paragraph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pubmed_parser.parse_pubmed_paragraph" title="Permalink to this definition">¶</a></dt>
<dd><p>Give path to a given PubMed OA file, parse and return 
a dictionary of all paragraphs, section that it belongs to,
and a list of reference made in each paragraph as a list of PMIDs</p>
<dl class="simple">
<dt>path: str</dt><dd><p>A string to an XML path.</p>
</dd>
<dt>all_paragraph: bool</dt><dd><p>By default, this function will only append a paragraph if there is at least 
one reference made in a paragraph (to aviod noisy parsed text).
A boolean indicating if you want to include paragraph with no references made or not
if True, include all paragraphs
if False, include only paragraphs that have references
default: False</p>
</dd>
</dl>
<dl class="simple">
<dt>dict_pars: list</dt><dd><p>A list contains dictionary for paragraph text and its metadata.
Metadata includes ‘pmc’ of an article, ‘pmid’ of an article,
‘reference_ids’ which is a list of reference <code class="docutils literal notranslate"><span class="pre">rid</span></code> made in a paragraph,
‘section’ name of an article, and section ‘text’</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pubmed_parser.parse_pubmed_caption">
<code class="sig-prename descclassname">pubmed_parser.</code><code class="sig-name descname">parse_pubmed_caption</code><span class="sig-paren">(</span><em class="sig-param">path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pubmed_parser/pubmed_oa_parser.html#parse_pubmed_caption"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pubmed_parser.parse_pubmed_caption" title="Permalink to this definition">¶</a></dt>
<dd><p>Given single xml path, extract figure caption and 
reference id back to that figure</p>
<dl class="simple">
<dt>path: str</dt><dd><p>A string to an PubMed OA XML path</p>
</dd>
</dl>
<dl class="simple">
<dt>dict_captions: list</dt><dd><p>A list contains all dictionary of figure ID (‘fig_id’) with its metadata.
Metadata includes ‘pmid’, ‘pmc’, ‘fig_caption’ (figure’s caption), 
‘graphic_ref’ (a file name corresponding to a figure file in OA bulk download)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pubmed_parser.parse_pubmed_table">
<code class="sig-prename descclassname">pubmed_parser.</code><code class="sig-name descname">parse_pubmed_table</code><span class="sig-paren">(</span><em class="sig-param">path</em>, <em class="sig-param">return_xml=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pubmed_parser/pubmed_oa_parser.html#parse_pubmed_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pubmed_parser.parse_pubmed_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse table from given Pubmed Open-Access XML file</p>
<dl class="simple">
<dt>path: str</dt><dd><p>A string to an PubMed OA XML path</p>
</dd>
<dt>return_xml: bool</dt><dd><p>if True, a dictionary (in an output list) 
will have a key ‘table_xml’ which is an XML string of a parsed table
default: True</p>
</dd>
</dl>
<dl class="simple">
<dt>table_dicts: list</dt><dd><p>A list contains all dictionary of table with its metadata.
Metadata includes ‘pmid’, ‘pmc’, ‘label’ (in a full text), ‘caption’</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="parse-from-website">
<h2>Parse from Website<a class="headerlink" href="#parse-from-website" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="pubmed_parser.parse_xml_web">
<code class="sig-prename descclassname">pubmed_parser.</code><code class="sig-name descname">parse_xml_web</code><span class="sig-paren">(</span><em class="sig-param">pmid</em>, <em class="sig-param">sleep=None</em>, <em class="sig-param">save_xml=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pubmed_parser/pubmed_web_parser.html#parse_xml_web"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pubmed_parser.parse_xml_web" title="Permalink to this definition">¶</a></dt>
<dd><p>Give an input PMID, load and parse XML using PubMed eutils</p>
<dl class="simple">
<dt>pmid: str</dt><dd><p>A string of PMID which you want to parse from eutils</p>
</dd>
<dt>sleep: int</dt><dd><p>An integer of how long you want to wait after parsing one PMID from eutils
default: None</p>
</dd>
<dt>save_xml: bool</dt><dd><p>if it is True, save an XML output as a string in the key <code class="docutils literal notranslate"><span class="pre">xml</span></code> in an output dictionary.
It is good to check the information in 
if it is False, we won’t save a full XML to an output
default: False</p>
</dd>
</dl>
<dl class="simple">
<dt>dict_out: dict</dt><dd><p>A dictionary contains information of parsed XML from a given PMID</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pubmed_parser.parse_citation_web">
<code class="sig-prename descclassname">pubmed_parser.</code><code class="sig-name descname">parse_citation_web</code><span class="sig-paren">(</span><em class="sig-param">doc_id</em>, <em class="sig-param">id_type='PMC'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pubmed_parser/pubmed_web_parser.html#parse_citation_web"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pubmed_parser.parse_citation_web" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse citations from given document id</p>
<dl class="simple">
<dt>doc_id: (str, int)</dt><dd><p>document id</p>
</dd>
<dt>id_type: str</dt><dd><p>corresponding type of doc_id. This can be a choice from the following [‘PMC’, ‘PMID’, ‘DOI’, ‘OTHER’]</p>
</dd>
</dl>
<dl class="simple">
<dt>dict_out: dict</dt><dd><p>output is a dictionary contains following keys
‘pmc’ (Pubmed Central ID), ‘pmid’ (Pubmed ID), 
‘doi’ (DOI of an article),  ‘n_citations’ (number of citations for given articles),
‘pmc_cited’ (list of PMCs that cite the given PMC)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pubmed_parser.parse_outgoing_citation_web">
<code class="sig-prename descclassname">pubmed_parser.</code><code class="sig-name descname">parse_outgoing_citation_web</code><span class="sig-paren">(</span><em class="sig-param">doc_id</em>, <em class="sig-param">id_type='PMC'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pubmed_parser/pubmed_web_parser.html#parse_outgoing_citation_web"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pubmed_parser.parse_outgoing_citation_web" title="Permalink to this definition">¶</a></dt>
<dd><p>A function to load citations from NCBI eutils API for a given document</p>
<p>Example URL:
<a class="reference external" href="https://eutils.ncbi.nlm.nih.gov/entrez/eutils/elink.fcgi?dbfrom=pmc&amp;linkname=pmc_refs_pubmed&amp;id=221212">https://eutils.ncbi.nlm.nih.gov/entrez/eutils/elink.fcgi?dbfrom=pmc&amp;linkname=pmc_refs_pubmed&amp;id=221212</a></p>
<dl class="simple">
<dt>doc_id: str</dt><dd><p>The document ID</p>
</dd>
<dt>id_type: str</dt><dd><p>A type of provided document ID, can be either ‘PMC’ or ‘PMID’</p>
</dd>
</dl>
<dl class="simple">
<dt>dict_out: dict</dt><dd><p>a dictionary containing the following keys ‘n_citations’ (number of citations for that article),
‘doc_id’ (the document ID number), ‘id_type’ (the type of document ID provided (PMCID or PMID)),
‘pmid_cited’ (a list of papers cited by the document as PMIDs)</p>
</dd>
</dl>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="resources.html" class="btn btn-neutral float-right" title="Resources" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="install.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Titipat Achakulvisut

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>